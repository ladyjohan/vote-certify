<div class="request-management-container">
  <h2 class="title">Voter Request Management</h2>

  <div class="request-card">
    <table class="request-table">
      <thead>
        <tr>
          <th>Voter Name</th>
          <th>Voter ID</th>
          <th>Purpose</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of pendingRequests">
          <td class="name">{{ request.fullName }}</td>
          <td class="id">{{ request.voterId }}</td>
          <td class="purpose">{{ request.purpose }}</td>
          <td class="actions">
            <button class="view" (click)="openDetails(request)">🔍</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="pendingRequests.length === 0" class="no-requests">
      No pending requests at the moment.
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal-backdrop" *ngIf="selectedRequest">
  <div class="modal">
    <h3>Request Details</h3>

    <div class="details">
      <p><strong>Name:</strong> {{ selectedRequest.fullName }}</p>
      <p><strong>ID:</strong> {{ selectedRequest.voterId }}</p>
      <p><strong>Purpose:</strong> {{ selectedRequest.purpose }}</p>
    </div>

    <div class="attachments">
      <p><strong>Attachment 1:</strong></p>
      <a [href]="selectedRequest.attachment1Url" target="_blank" rel="noopener">📄 View Document 1</a>

      <p><strong>Attachment 2:</strong></p>
      <a [href]="selectedRequest.attachment2Url" target="_blank" rel="noopener">📄 View Document 2</a>
    </div>

    <div class="modal-actions">
      <button class="approve" (click)="approveRequest(selectedRequest)">✔️ Approve</button>
      <button class="decline" (click)="declineRequest(selectedRequest)">❌ Decline</button>
      <button class="close" (click)="closeDetails()">Close</button>
    </div>
  </div>
</div>
