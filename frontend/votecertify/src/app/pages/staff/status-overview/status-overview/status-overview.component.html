<div class="status-overview-container">
  <h2 class="title">Status Overview</h2>

  <div class="search-bar">
    <i class="fas fa-search search-icon"></i>
    <input
      [formControl]="searchControl"
      type="text"
      placeholder="Search by Voter Name or Precinct Number"
    />
  </div>

  <div class="request-list">
    <div class="request-header">
      <span>Full Name</span>
      <span>Precinct Number</span>
      <span>Pickup Date</span>
      <span>Status</span>
      <span>Actions</span>
    </div>

  <div class="request-item" *ngFor="let request of displayedRequests">
  <div class="field">
    <span class="label mobile-only">Full Name: </span>
    <span class="value">{{ request.fullName }}</span>
  </div>
  <div class="field">
    <span class="label mobile-only">Precinct Number: </span>
    <span class="value">{{ request.voterId }}</span>
  </div>
  <div class="field">
    <span class="label mobile-only">Pickup Date: </span>
    <span class="value">{{ request.pickupDate ? (request.pickupDate | date:'MM/dd/yyyy') : 'N/A' }}</span>
  </div>
  <div class="field">
    <span class="label mobile-only">Status: </span>
    <span class="value" [ngClass]="{
      'status-pending': request.status === 'Pending',
      'status-approved': request.status === 'Approved',
      'status-completed': request.status === 'Completed',
      'status-declined': request.status === 'Declined'
    }">{{ request.status }}</span>
  </div>
  <div class="field actions">
    <button
      *ngIf="request.status === 'Approved' || request.status === 'Ready for Pickup'"
      (click)="markAsCompleted(request)"
      class="complete-btn"
    >
      Mark as Completed
    </button>
  </div>
</div>

  <!-- Pagination -->
  <div class="pagination-wrapper" *ngIf="filteredRequests.length > 0">
    <div class="pagination">
      <button class="page-btn prev" [disabled]="currentPage === 1" (click)="prevPage()">‹ Prev</button>

      <ng-container *ngFor="let p of pages">
        <button
          class="page-btn"
          [class.active]="currentPage === p"
          (click)="goToPage(p)"
        >{{ p }}</button>
      </ng-container>

      <button class="page-btn next" [disabled]="currentPage === totalPages" (click)="nextPage()">Next ›</button>
    </div>
    <div class="pagination-info">Page {{ currentPage }} of {{ totalPages }} — {{ filteredRequests.length }} requests</div>
  </div>
</div>
