<form [formGroup]="requestForm" (ngSubmit)="submitRequest()" class="request-form">
   <h2>Voter Certificate Request Form</h2>
  
  <!-- Cooldown Warning Message -->
  <div *ngIf="isInCooldown" class="cooldown-warning">
    <div class="cooldown-message">
      <i class="fas fa-clock"></i>
      <div class="message-content">
        <strong>Request Cooldown Active</strong>
        <p>You may request again after <strong>{{ daysRemaining }} day{{ daysRemaining !== 1 ? 's' : '' }}</strong>.</p>
        <p class="small-text">You can only submit one voter certificate request every 3 months.</p>
      </div>
    </div>
  </div>

  <!-- Pending Request Warning -->
  <div *ngIf="hasPendingRequest" class="pending-warning">
    <div class="warning-message">
      <i class="fas fa-hourglass-half"></i>
      <div class="message-content">
        <strong>Pending Request</strong>
        <p>You already have a pending request. Please wait for it to be processed.</p>
      </div>
    </div>
  </div>

  <!-- Approved Request Warning -->
  <div *ngIf="hasApprovedRequest" class="approved-warning">
    <div class="warning-message">
      <i class="fas fa-check-circle"></i>
      <div class="message-content">
        <strong>Approved Request</strong>
        <p>Please claim your voter certificate at the office before requesting a new one.</p>
      </div>
    </div>
  </div>

  <div class="voter-info">
    <div class="voter-info-item">
      <label>Full Name:</label>
      <span>{{ fullName }}</span>
    </div>
    <div class="voter-info-item">
      <label>Birthdate:</label>
      <span>{{ birthdate | date:'MM/dd/yyyy' }}</span>
    </div>
  </div>

  <div class="form-group">
    <label for="purpose">Purpose:</label>
    <div class="custom-select-container">
      <select id="purpose" formControlName="purpose" required [disabled]="isInCooldown || hasPendingRequest || hasApprovedRequest">
        <option value="" disabled selected>Select a purpose</option>
        <option value="Employment Requirement">Employment Requirement</option>
        <option value="Passport Application">Passport Application</option>
        <option value="Government Application">Government Application</option>
        <option value="Financial Transactions">Financial Transactions</option>
        <option value="Court Requirements">Court Requirements</option>
        <option value="Educational Application">Educational Application</option>
        <option value="Proof of Residency">Proof of Residency</option>
        <option value="Government Transactions">Government Transactions</option>
        <option value="General Identification Purposes">General Identification Purposes</option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label for="govId">Government-Issued ID (JPG/PNG, max 5MB):</label>
    <input type="file" id="govId" (change)="handleFileUpload($event, 'govId')" accept="image/jpeg, image/png" required [disabled]="isInCooldown || hasPendingRequest || hasApprovedRequest" />
  </div>

  <div class="form-group">
    <label for="selfie">Selfie with ID (JPG/PNG, max 5MB):</label>
    <input type="file" id="selfie" (change)="handleFileUpload($event, 'selfie')" accept="image/jpeg, image/png" required [disabled]="isInCooldown || hasPendingRequest || hasApprovedRequest" />
  </div>

  <button type="submit" [disabled]="isSubmitting || voterNotFound || isInCooldown || hasPendingRequest || hasApprovedRequest">
    {{ isSubmitting ? 'Submitting...' : isInCooldown ? 'Request in Cooldown' : 'Submit Request' }}
  </button>
</form>
